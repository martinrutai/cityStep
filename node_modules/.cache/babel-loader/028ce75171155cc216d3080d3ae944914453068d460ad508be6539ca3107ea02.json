{"ast":null,"code":"var _jsxFileName = \"/Users/daliborseckar/cityStep/src/components/map.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ndelete L.Icon.Default.prototype._get;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png',\n  iconUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png',\n  shadowUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png'\n});\nfunction Map() {\n  _s();\n  const mapContainerRef = useRef(null);\n  const mapInstanceRef = useRef(null);\n  useEffect(() => {\n    if (mapContainerRef.current && !mapInstanceRef.current) {\n      const map = L.map(mapContainerRef.current).setView([51.505, -0.09], 13);\n      mapInstanceRef.current = map;\n      L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {\n        maxZoom: 19,\n        attribution: '© OpenStreetMap contributors'\n      }).addTo(map);\n      map.on('contextmenu', function (e) {\n        L.DomEvent.preventDefault(e);\n        const latlng = e.latlng;\n        const confirmLocationHandler = () => {\n          map.closePopup();\n          L.marker(latlng).addTo(map).bindPopup(\"New Marker Added at: \" + latlng.lat.toFixed(4) + \", \" + latlng.lng.toFixed(4)).openPopup();\n        };\n        const popupContent = `\n                    <div style=\"text-align: center; padding: 5px;\">\n                        <p style=\"font-weight: 600; margin-bottom: 10px;\">Add a new location marker here?</p>\n                        <button id=\"add-marker-btn\" \n                                style=\"padding: 8px 15px; cursor: pointer; background-color: #0078A8; color: white; border: none; border-radius: 4px; font-size: 14px; transition: background-color 0.2s;\">\n                            Confirm Location\n                        </button>\n                    </div>\n                `;\n        const popup = L.popup().setLatLng(latlng).setContent(popupContent).openOn(map);\n        popup.on('open', function () {\n          const button = document.getElementById('add-marker-btn');\n          if (button) {\n            L.DomEvent.on(button, 'click', confirmLocationHandler);\n            popup.buttonClickHandler = confirmLocationHandler;\n          }\n        });\n        popup.on('remove', function () {\n          const button = document.getElementById('add-marker-btn');\n          if (button && popup.buttonClickHandler) {\n            L.DomEvent.off(button, 'click', popup.buttonClickHandler);\n            popup.buttonClickHandler = null;\n          }\n        });\n      });\n      return () => {\n        map.remove();\n        mapInstanceRef.current = null;\n      };\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px',\n      backgroundColor: '#f4f7f9',\n      minHeight: '100vh'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        fontSize: '1.5rem',\n        marginBottom: '15px',\n        color: '#333'\n      },\n      children: \"Leaflet Map: Right-Click to Confirm Marker\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        marginBottom: '20px',\n        color: '#555'\n      },\n      children: \"Right-click anywhere on the map. A confirmation popup will appear. Click \\\"Confirm Location\\\" to place the permanent marker.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: mapContainerRef,\n      id: \"map\",\n      style: {\n        height: '70vh',\n        width: '100%',\n        borderRadius: '8px',\n        boxShadow: '0 4px 12px rgba(0,0,0,0.1)'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 9\n  }, this);\n}\n_s(Map, \"KLmHBsvVmnsss9T0YDVbP1TBwkM=\");\n_c = Map;\nexport default Map;\nvar _c;\n$RefreshReg$(_c, \"Map\");","map":{"version":3,"names":["React","useEffect","useRef","L","jsxDEV","_jsxDEV","Icon","Default","prototype","_get","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","Map","_s","mapContainerRef","mapInstanceRef","current","map","setView","tileLayer","maxZoom","attribution","addTo","on","e","DomEvent","preventDefault","latlng","confirmLocationHandler","closePopup","marker","bindPopup","lat","toFixed","lng","openPopup","popupContent","popup","setLatLng","setContent","openOn","button","document","getElementById","buttonClickHandler","off","remove","style","padding","backgroundColor","minHeight","children","fontSize","marginBottom","color","fileName","_jsxFileName","lineNumber","columnNumber","ref","id","height","width","borderRadius","boxShadow","_c","$RefreshReg$"],"sources":["/Users/daliborseckar/cityStep/src/components/map.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\n\ndelete L.Icon.Default.prototype._get\nL.Icon.Default.mergeOptions({\n    iconRetinaUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png',\n    iconUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png',\n    shadowUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png',\n});\n\n\nfunction Map() {\n    const mapContainerRef = useRef(null);\n    const mapInstanceRef = useRef(null);\n\n    useEffect(() => {\n        if (mapContainerRef.current && !mapInstanceRef.current) {\n\n            const map = L.map(mapContainerRef.current).setView([51.505, -0.09], 13);\n            mapInstanceRef.current = map;\n\n            L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {\n                maxZoom: 19,\n                attribution: '© OpenStreetMap contributors'\n            }).addTo(map);\n\n            map.on('contextmenu', function(e){\n                L.DomEvent.preventDefault(e); \n                const latlng = e.latlng;\n\n                const confirmLocationHandler = () => {\n                    map.closePopup(); \n\n                    L.marker(latlng).addTo(map)\n                        .bindPopup(\"New Marker Added at: \" + latlng.lat.toFixed(4) + \", \" + latlng.lng.toFixed(4))\n                        .openPopup();\n                };\n\n                const popupContent = `\n                    <div style=\"text-align: center; padding: 5px;\">\n                        <p style=\"font-weight: 600; margin-bottom: 10px;\">Add a new location marker here?</p>\n                        <button id=\"add-marker-btn\" \n                                style=\"padding: 8px 15px; cursor: pointer; background-color: #0078A8; color: white; border: none; border-radius: 4px; font-size: 14px; transition: background-color 0.2s;\">\n                            Confirm Location\n                        </button>\n                    </div>\n                `;\n\n                const popup = L.popup()\n                    .setLatLng(latlng)\n                    .setContent(popupContent)\n                    .openOn(map);\n\n                popup.on('open', function() {\n                    const button = document.getElementById('add-marker-btn');\n                    \n                    if (button) {\n                        L.DomEvent.on(button, 'click', confirmLocationHandler);\n\n                        popup.buttonClickHandler = confirmLocationHandler;\n                    }\n                });\n\n                popup.on('remove', function() {\n                    const button = document.getElementById('add-marker-btn');\n\n                    if (button && popup.buttonClickHandler) {\n                        L.DomEvent.off(button, 'click', popup.buttonClickHandler);\n                        popup.buttonClickHandler = null; \n                    }\n                });\n            });\n\n            return () => {\n                map.remove();\n                mapInstanceRef.current = null;\n            };\n        }\n    }, []);\n\n    return (\n        <div style={{ padding: '20px', backgroundColor: '#f4f7f9', minHeight: '100vh' }}>\n            <h1 style={{ fontSize: '1.5rem', marginBottom: '15px', color: '#333' }}>\n                Leaflet Map: Right-Click to Confirm Marker\n            </h1>\n            <p style={{ marginBottom: '20px', color: '#555' }}>\n                Right-click anywhere on the map. A confirmation popup will appear. Click \"Confirm Location\" to place the permanent marker.\n            </p>\n            <div \n                ref={mapContainerRef} \n                id=\"map\" \n                style={{ height: '70vh', width: '100%', borderRadius: '8px', boxShadow: '0 4px 12px rgba(0,0,0,0.1)' }}\n            />\n        </div>\n    );\n}\n\nexport default Map;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAChD,OAAOC,CAAC,MAAM,SAAS;AACvB,OAAO,0BAA0B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElC,OAAOF,CAAC,CAACG,IAAI,CAACC,OAAO,CAACC,SAAS,CAACC,IAAI;AACpCN,CAAC,CAACG,IAAI,CAACC,OAAO,CAACG,YAAY,CAAC;EACxBC,aAAa,EAAE,gEAAgE;EAC/EC,OAAO,EAAE,6DAA6D;EACtEC,SAAS,EAAE;AACf,CAAC,CAAC;AAGF,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACX,MAAMC,eAAe,GAAGd,MAAM,CAAC,IAAI,CAAC;EACpC,MAAMe,cAAc,GAAGf,MAAM,CAAC,IAAI,CAAC;EAEnCD,SAAS,CAAC,MAAM;IACZ,IAAIe,eAAe,CAACE,OAAO,IAAI,CAACD,cAAc,CAACC,OAAO,EAAE;MAEpD,MAAMC,GAAG,GAAGhB,CAAC,CAACgB,GAAG,CAACH,eAAe,CAACE,OAAO,CAAC,CAACE,OAAO,CAAC,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC;MACvEH,cAAc,CAACC,OAAO,GAAGC,GAAG;MAE5BhB,CAAC,CAACkB,SAAS,CAAC,gDAAgD,EAAE;QAC1DC,OAAO,EAAE,EAAE;QACXC,WAAW,EAAE;MACjB,CAAC,CAAC,CAACC,KAAK,CAACL,GAAG,CAAC;MAEbA,GAAG,CAACM,EAAE,CAAC,aAAa,EAAE,UAASC,CAAC,EAAC;QAC7BvB,CAAC,CAACwB,QAAQ,CAACC,cAAc,CAACF,CAAC,CAAC;QAC5B,MAAMG,MAAM,GAAGH,CAAC,CAACG,MAAM;QAEvB,MAAMC,sBAAsB,GAAGA,CAAA,KAAM;UACjCX,GAAG,CAACY,UAAU,CAAC,CAAC;UAEhB5B,CAAC,CAAC6B,MAAM,CAACH,MAAM,CAAC,CAACL,KAAK,CAACL,GAAG,CAAC,CACtBc,SAAS,CAAC,uBAAuB,GAAGJ,MAAM,CAACK,GAAG,CAACC,OAAO,CAAC,CAAC,CAAC,GAAG,IAAI,GAAGN,MAAM,CAACO,GAAG,CAACD,OAAO,CAAC,CAAC,CAAC,CAAC,CACzFE,SAAS,CAAC,CAAC;QACpB,CAAC;QAED,MAAMC,YAAY,GAAG;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;QAED,MAAMC,KAAK,GAAGpC,CAAC,CAACoC,KAAK,CAAC,CAAC,CAClBC,SAAS,CAACX,MAAM,CAAC,CACjBY,UAAU,CAACH,YAAY,CAAC,CACxBI,MAAM,CAACvB,GAAG,CAAC;QAEhBoB,KAAK,CAACd,EAAE,CAAC,MAAM,EAAE,YAAW;UACxB,MAAMkB,MAAM,GAAGC,QAAQ,CAACC,cAAc,CAAC,gBAAgB,CAAC;UAExD,IAAIF,MAAM,EAAE;YACRxC,CAAC,CAACwB,QAAQ,CAACF,EAAE,CAACkB,MAAM,EAAE,OAAO,EAAEb,sBAAsB,CAAC;YAEtDS,KAAK,CAACO,kBAAkB,GAAGhB,sBAAsB;UACrD;QACJ,CAAC,CAAC;QAEFS,KAAK,CAACd,EAAE,CAAC,QAAQ,EAAE,YAAW;UAC1B,MAAMkB,MAAM,GAAGC,QAAQ,CAACC,cAAc,CAAC,gBAAgB,CAAC;UAExD,IAAIF,MAAM,IAAIJ,KAAK,CAACO,kBAAkB,EAAE;YACpC3C,CAAC,CAACwB,QAAQ,CAACoB,GAAG,CAACJ,MAAM,EAAE,OAAO,EAAEJ,KAAK,CAACO,kBAAkB,CAAC;YACzDP,KAAK,CAACO,kBAAkB,GAAG,IAAI;UACnC;QACJ,CAAC,CAAC;MACN,CAAC,CAAC;MAEF,OAAO,MAAM;QACT3B,GAAG,CAAC6B,MAAM,CAAC,CAAC;QACZ/B,cAAc,CAACC,OAAO,GAAG,IAAI;MACjC,CAAC;IACL;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,oBACIb,OAAA;IAAK4C,KAAK,EAAE;MAAEC,OAAO,EAAE,MAAM;MAAEC,eAAe,EAAE,SAAS;MAAEC,SAAS,EAAE;IAAQ,CAAE;IAAAC,QAAA,gBAC5EhD,OAAA;MAAI4C,KAAK,EAAE;QAAEK,QAAQ,EAAE,QAAQ;QAAEC,YAAY,EAAE,MAAM;QAAEC,KAAK,EAAE;MAAO,CAAE;MAAAH,QAAA,EAAC;IAExE;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACLvD,OAAA;MAAG4C,KAAK,EAAE;QAAEM,YAAY,EAAE,MAAM;QAAEC,KAAK,EAAE;MAAO,CAAE;MAAAH,QAAA,EAAC;IAEnD;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,eACJvD,OAAA;MACIwD,GAAG,EAAE7C,eAAgB;MACrB8C,EAAE,EAAC,KAAK;MACRb,KAAK,EAAE;QAAEc,MAAM,EAAE,MAAM;QAAEC,KAAK,EAAE,MAAM;QAAEC,YAAY,EAAE,KAAK;QAAEC,SAAS,EAAE;MAA6B;IAAE;MAAAT,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC1G,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACD,CAAC;AAEd;AAAC7C,EAAA,CApFQD,GAAG;AAAAqD,EAAA,GAAHrD,GAAG;AAsFZ,eAAeA,GAAG;AAAC,IAAAqD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}