{"ast":null,"code":"var _jsxFileName = \"/Users/daliborseckar/cityStep/src/components/map.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\n\n// Fix for default marker icons due to bundler issues\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png',\n  iconUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png',\n  shadowUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png'\n});\n\n// Use Lucide React for icons (assumed available in this environment)\nimport { LocateFixed, MapPin, X, Check } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialCoords = [51.505, -0.09]; // Default: London\n\nfunction MapApp() {\n  _s();\n  const mapContainerRef = useRef(null);\n  const mapInstanceRef = useRef(null);\n  const [pendingLatLng, setPendingLatLng] = useState(null);\n  const [currentLocation, setCurrentLocation] = useState(null);\n  const [statusMessage, setStatusMessage] = useState('Right-click the map to add a marker or click Locate Me.');\n\n  // --- EFFECT 1: Initialize Map ---\n  useEffect(() => {\n    if (mapContainerRef.current && !mapInstanceRef.current) {\n      const map = L.map(mapContainerRef.current).setView(initialCoords, 13);\n      mapInstanceRef.current = map;\n      L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {\n        maxZoom: 19,\n        attribution: '© OpenStreetMap contributors'\n      }).addTo(map);\n\n      // Context menu listener for manual marker placement\n      map.on('contextmenu', function (e) {\n        L.DomEvent.preventDefault(e);\n        setPendingLatLng(e.latlng);\n      });\n\n      // Clean up map instance when component unmounts\n      return () => {\n        map.remove();\n        mapInstanceRef.current = null;\n      };\n    }\n  }, []);\n\n  // --- EFFECT 2: Locate User and Add Marker (with Unmount Safety) ---\n  useEffect(() => {\n    if (mapInstanceRef.current) {\n      const map = mapInstanceRef.current;\n      let mounted = true; // Flag to prevent updating state/map after unmount\n\n      const onLocationFound = e => {\n        if (!mounted) return; // Crucial check for cleanup safety\n\n        const {\n          latlng,\n          accuracy\n        } = e;\n\n        // Only proceed if we haven't already marked the location\n        if (!currentLocation) {\n          setCurrentLocation(latlng);\n          setStatusMessage(`Location found! Accuracy: ${accuracy.toFixed(0)}m.`);\n\n          // Add marker for current location\n          L.marker(latlng, {\n            icon: L.divIcon({\n              className: 'current-location-icon',\n              html: '<div style=\"background-color: #ef4444; width: 16px; height: 16px; border-radius: 50%; border: 3px solid white; box-shadow: 0 0 5px rgba(0,0,0,0.5);\"></div>',\n              iconSize: [16, 16]\n            })\n          }).addTo(map).bindPopup(\"You are here (within \" + accuracy.toFixed(0) + \" meters)\").openPopup();\n\n          // Add circle to show accuracy\n          L.circle(latlng, accuracy, {\n            color: '#ef4444',\n            weight: 1,\n            fillOpacity: 0.1\n          }).addTo(map);\n        }\n      };\n      const onLocationError = e => {\n        if (!mounted) return; // Crucial check for cleanup safety\n        setStatusMessage(`Geolocation failed: ${e.message}. Using default map view.`);\n        console.error(\"Geolocation Error:\", e.message);\n      };\n      map.on('locationfound', onLocationFound);\n      map.on('locationerror', onLocationError);\n\n      // Cleanup function for this effect\n      return () => {\n        mounted = false; // Mark as unmounted\n        map.off('locationfound', onLocationFound);\n        map.off('locationerror', onLocationError);\n      };\n    }\n  }, [currentLocation]);\n\n  // --- Handlers and Helper Functions ---\n\n  const handleConfirm = () => {\n    if (pendingLatLng && mapInstanceRef.current) {\n      L.marker(pendingLatLng).addTo(mapInstanceRef.current);\n      setStatusMessage(`New marker added at ${pendingLatLng.lat.toFixed(5)}, ${pendingLatLng.lng.toFixed(5)}.`);\n    }\n    setPendingLatLng(null);\n  };\n  const handleCancel = () => {\n    setPendingLatLng(null);\n    setStatusMessage('Marker placement cancelled.');\n  };\n  const handleLocateMe = () => {\n    if (mapInstanceRef.current) {\n      setStatusMessage('Attempting to locate you...');\n      // This triggers the 'locationfound' or 'locationerror' event handled by useEffect 2\n      mapInstanceRef.current.locate({\n        setView: true,\n        maxZoom: 16\n      });\n    }\n  };\n\n  // --- Render Component ---\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 sm:p-6 bg-gray-50 min-h-screen font-sans\",\n    children: [/*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n                @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');\n                .font-sans { font-family: 'Inter', sans-serif; }\n                .leaflet-container { z-index: 1; }\n                .popup-modal { z-index: 1000; }\n                .current-location-icon { \n                    border: none !important;\n                    background: transparent !important;\n                    display: flex;\n                    justify-content: center;\n                    align-items: center;\n                }\n                `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-4xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold text-gray-800 mb-2 flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(MapPin, {\n          className: \"mr-2 text-indigo-600\",\n          size: 28\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 21\n        }, this), \"Interactive Map Explorer\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-gray-500 mb-4\",\n        children: statusMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4 flex justify-end\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleLocateMe,\n          className: \"flex items-center px-4 py-2 bg-indigo-600 text-white font-semibold rounded-lg shadow-md hover:bg-indigo-700 transition duration-150 ease-in-out\",\n          title: \"Find my current location\",\n          children: [/*#__PURE__*/_jsxDEV(LocateFixed, {\n            size: 20,\n            className: \"mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 25\n          }, this), \"Locate Me\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: mapContainerRef,\n        id: \"map\",\n        className: \"h-[70vh] w-full rounded-xl shadow-2xl border-2 border-gray-200\",\n        style: {\n          position: 'relative'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 17\n      }, this), pendingLatLng && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"popup-modal fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white p-6 sm:p-8 rounded-xl shadow-2xl max-w-sm w-full text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-semibold mb-3 text-gray-800\",\n            children: \"Confirm Marker Placement\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-600 mb-5\",\n            children: [\"Add marker at:\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n              className: \"text-indigo-600\",\n              children: [pendingLatLng.lat.toFixed(5), \", \", pendingLatLng.lng.toFixed(5)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-center space-x-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleConfirm,\n              className: \"flex items-center px-4 py-2 bg-emerald-500 text-white font-medium rounded-lg hover:bg-emerald-600 transition duration-150\",\n              children: [/*#__PURE__*/_jsxDEV(Check, {\n                size: 18,\n                className: \"mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 37\n              }, this), \" Confirm\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleCancel,\n              className: \"flex items-center px-4 py-2 bg-gray-200 text-gray-700 font-medium rounded-lg hover:bg-gray-300 transition duration-150\",\n              children: [/*#__PURE__*/_jsxDEV(X, {\n                size: 18,\n                className: \"mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 37\n              }, this), \" Cancel\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 125,\n    columnNumber: 9\n  }, this);\n}\n_s(MapApp, \"9Eub6/PXT18pFbDMSZ32CgwZWUc=\");\n_c = MapApp;\nexport default MapApp;\nvar _c;\n$RefreshReg$(_c, \"MapApp\");","map":{"version":3,"names":["React","useEffect","useRef","useState","L","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","LocateFixed","MapPin","X","Check","jsxDEV","_jsxDEV","initialCoords","MapApp","_s","mapContainerRef","mapInstanceRef","pendingLatLng","setPendingLatLng","currentLocation","setCurrentLocation","statusMessage","setStatusMessage","current","map","setView","tileLayer","maxZoom","attribution","addTo","on","e","DomEvent","preventDefault","latlng","remove","mounted","onLocationFound","accuracy","toFixed","marker","icon","divIcon","className","html","iconSize","bindPopup","openPopup","circle","color","weight","fillOpacity","onLocationError","message","console","error","off","handleConfirm","lat","lng","handleCancel","handleLocateMe","locate","children","fileName","_jsxFileName","lineNumber","columnNumber","size","onClick","title","ref","id","style","position","_c","$RefreshReg$"],"sources":["/Users/daliborseckar/cityStep/src/components/map.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\n\n// Fix for default marker icons due to bundler issues\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n    iconRetinaUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png',\n    iconUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png',\n    shadowUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png',\n});\n\n// Use Lucide React for icons (assumed available in this environment)\nimport { LocateFixed, MapPin, X, Check } from 'lucide-react';\n\nconst initialCoords = [51.505, -0.09]; // Default: London\n\nfunction MapApp() {\n    const mapContainerRef = useRef(null);\n    const mapInstanceRef = useRef(null);\n    const [pendingLatLng, setPendingLatLng] = useState(null);\n    const [currentLocation, setCurrentLocation] = useState(null);\n    const [statusMessage, setStatusMessage] = useState('Right-click the map to add a marker or click Locate Me.');\n\n    // --- EFFECT 1: Initialize Map ---\n    useEffect(() => {\n        if (mapContainerRef.current && !mapInstanceRef.current) {\n            const map = L.map(mapContainerRef.current).setView(initialCoords, 13);\n            mapInstanceRef.current = map;\n\n            L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {\n                maxZoom: 19,\n                attribution: '© OpenStreetMap contributors',\n            }).addTo(map);\n\n            // Context menu listener for manual marker placement\n            map.on('contextmenu', function (e) {\n                L.DomEvent.preventDefault(e);\n                setPendingLatLng(e.latlng);\n            });\n            \n            // Clean up map instance when component unmounts\n            return () => {\n                map.remove();\n                mapInstanceRef.current = null;\n            };\n        }\n    }, []);\n\n    // --- EFFECT 2: Locate User and Add Marker (with Unmount Safety) ---\n    useEffect(() => {\n        if (mapInstanceRef.current) {\n            const map = mapInstanceRef.current;\n            let mounted = true; // Flag to prevent updating state/map after unmount\n\n            const onLocationFound = (e) => {\n                if (!mounted) return; // Crucial check for cleanup safety\n                \n                const { latlng, accuracy } = e;\n                \n                // Only proceed if we haven't already marked the location\n                if (!currentLocation) {\n                    setCurrentLocation(latlng);\n                    setStatusMessage(`Location found! Accuracy: ${accuracy.toFixed(0)}m.`);\n                    \n                    // Add marker for current location\n                    L.marker(latlng, {\n                        icon: L.divIcon({\n                            className: 'current-location-icon',\n                            html: '<div style=\"background-color: #ef4444; width: 16px; height: 16px; border-radius: 50%; border: 3px solid white; box-shadow: 0 0 5px rgba(0,0,0,0.5);\"></div>',\n                            iconSize: [16, 16],\n                        })\n                    }).addTo(map)\n                    .bindPopup(\"You are here (within \" + accuracy.toFixed(0) + \" meters)\").openPopup();\n\n                    // Add circle to show accuracy\n                    L.circle(latlng, accuracy, { color: '#ef4444', weight: 1, fillOpacity: 0.1 }).addTo(map);\n                }\n            };\n\n            const onLocationError = (e) => {\n                if (!mounted) return; // Crucial check for cleanup safety\n                setStatusMessage(`Geolocation failed: ${e.message}. Using default map view.`);\n                console.error(\"Geolocation Error:\", e.message);\n            };\n\n            map.on('locationfound', onLocationFound);\n            map.on('locationerror', onLocationError);\n            \n            // Cleanup function for this effect\n            return () => {\n                mounted = false; // Mark as unmounted\n                map.off('locationfound', onLocationFound);\n                map.off('locationerror', onLocationError);\n            };\n        }\n    }, [currentLocation]); \n    \n    // --- Handlers and Helper Functions ---\n\n    const handleConfirm = () => {\n        if (pendingLatLng && mapInstanceRef.current) {\n            L.marker(pendingLatLng).addTo(mapInstanceRef.current);\n            setStatusMessage(`New marker added at ${pendingLatLng.lat.toFixed(5)}, ${pendingLatLng.lng.toFixed(5)}.`);\n        }\n        setPendingLatLng(null);\n    };\n\n    const handleCancel = () => {\n        setPendingLatLng(null);\n        setStatusMessage('Marker placement cancelled.');\n    };\n    \n    const handleLocateMe = () => {\n        if (mapInstanceRef.current) {\n            setStatusMessage('Attempting to locate you...');\n            // This triggers the 'locationfound' or 'locationerror' event handled by useEffect 2\n            mapInstanceRef.current.locate({ setView: true, maxZoom: 16 });\n        }\n    };\n    \n    // --- Render Component ---\n\n    return (\n        <div className=\"p-4 sm:p-6 bg-gray-50 min-h-screen font-sans\">\n            <style>\n                {`\n                @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');\n                .font-sans { font-family: 'Inter', sans-serif; }\n                .leaflet-container { z-index: 1; }\n                .popup-modal { z-index: 1000; }\n                .current-location-icon { \n                    border: none !important;\n                    background: transparent !important;\n                    display: flex;\n                    justify-content: center;\n                    align-items: center;\n                }\n                `}\n            </style>\n            \n            <div className=\"max-w-4xl mx-auto\">\n                <h1 className=\"text-3xl font-bold text-gray-800 mb-2 flex items-center\">\n                    <MapPin className=\"mr-2 text-indigo-600\" size={28} />\n                    Interactive Map Explorer\n                </h1>\n                <p className=\"text-sm text-gray-500 mb-4\">{statusMessage}</p>\n\n                {/* Controls */}\n                <div className=\"mb-4 flex justify-end\">\n                    <button\n                        onClick={handleLocateMe}\n                        className=\"flex items-center px-4 py-2 bg-indigo-600 text-white font-semibold rounded-lg shadow-md hover:bg-indigo-700 transition duration-150 ease-in-out\"\n                        title=\"Find my current location\"\n                    >\n                        <LocateFixed size={20} className=\"mr-2\" />\n                        Locate Me\n                    </button>\n                </div>\n\n                {/* Map Container */}\n                <div\n                    ref={mapContainerRef}\n                    id=\"map\"\n                    className=\"h-[70vh] w-full rounded-xl shadow-2xl border-2 border-gray-200\"\n                    style={{ position: 'relative' }}\n                />\n\n                {/* Confirmation Modal (for right-click) */}\n                {pendingLatLng && (\n                    <div className=\"popup-modal fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50\">\n                        <div className=\"bg-white p-6 sm:p-8 rounded-xl shadow-2xl max-w-sm w-full text-center\">\n                            <h2 className=\"text-xl font-semibold mb-3 text-gray-800\">Confirm Marker Placement</h2>\n                            <p className=\"text-sm text-gray-600 mb-5\">\n                                Add marker at:\n                                <br />\n                                <strong className=\"text-indigo-600\">\n                                    {pendingLatLng.lat.toFixed(5)}, {pendingLatLng.lng.toFixed(5)}\n                                </strong>\n                            </p>\n                            <div className=\"flex justify-center space-x-3\">\n                                <button\n                                    onClick={handleConfirm}\n                                    className=\"flex items-center px-4 py-2 bg-emerald-500 text-white font-medium rounded-lg hover:bg-emerald-600 transition duration-150\"\n                                >\n                                    <Check size={18} className=\"mr-1\" /> Confirm\n                                </button>\n                                <button\n                                    onClick={handleCancel}\n                                    className=\"flex items-center px-4 py-2 bg-gray-200 text-gray-700 font-medium rounded-lg hover:bg-gray-300 transition duration-150\"\n                                >\n                                    <X size={18} className=\"mr-1\" /> Cancel\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n}\n\nexport default MapApp;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}